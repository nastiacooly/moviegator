{% extends "moviegator/layout.html" %}
{% load static %}

{% block title %}Moviegator: Your Profile{% endblock %}

{% block body %}
    <div id="message">{{ message }}</div>

    <span class="menu-arrow" data-slide="down">menu &#8595;</span>

    {% if user.is_authenticated %}

        <!--Modal to rate movie -->
        <div class="modal-container hide">
            <div class="overlay">
                <div class="d-flex flex-column justify-content-around px-5 py-5" id="ratingModal">
                    <div class="rating_modal-title">Rate this movie</div>
                    <div class="rating_modal-rate d-flex flex-row mt-2">
                        <span class="star unchecked" data-rating="1">&#9733;</span>
                        <span class="star unchecked" data-rating="2">&#9733;</span>
                        <span class="star unchecked" data-rating="3">&#9733;</span>
                        <span class="star unchecked" data-rating="4">&#9733;</span>
                        <span class="star unchecked" data-rating="5">&#9733;</span>
                    </div>
                    <div class="d-flex flex-row justify-content-end mt-3">
                        <button type="button" data-modal="close" class="btn btn-light btn-lg mx-2">Cancel</button>
                        <button type="button" data-modal="save" class="btn btn-primary btn-lg mx-2">Save</button>
                    </div>
                </div>
            </div>
        </div>

        <!--User's info section -->
        <div class="text-center" id="section-user">

            <!--Scroll to top arrow -->
            <span class="scroll-arrow hide">&#8593;</span>

            <div class="container text-center d-flex flex-column">
                <div class="px-5">
                    <h1>{{ user.username }}</h1>
                    <h3>This is your profile</h3>
                </div>

                <div class="d-flex flex-column my-4">
                    <h5>Your username: {{ user.username }}</h5>
                    <h5>Your email: {{ user.email }}</h5>
                    <h6>Date of joining Moviegator: {{ user.date_joined }}</h6>
                </div>

                <div class="d-flex flex-row justify-content-center">
                    <button type="button" class="btn btn-outline-light btn-lg mx-2" data-profile="watchlist">
                        Watchlist
                    </button>
                    <button class="btn btn-outline-light btn-lg mx-2" type="button" data-profile="watched">
                        Watched
                    </button>
                </div>

            </div>

            <!--Section with user's watchlist -->
            <section class="inner-section hide" id='section-watchlist'>
                <div class="container text-center d-flex flex-column justify-content-between">
                    <div class="px-5">

                        <h1>Your watchlist</h1>

                        <div class="watchlist-container d-flex flex-row flex-wrap justify-content-around">
                            
                        </div>

                    </div>

                </div>
            </section>

            <!--Section with user's watched movies/shows -->
            <section class="inner-section hide" id='section-watched'>
                <div class="container text-center d-flex flex-column justify-content-between">
                    <div class="px-5">

                        <h1>You already watched these titles</h1>

                        <div class="watched-container d-flex flex-row flex-wrap justify-content-around">
                            
                        </div>

                    </div>

                </div>
            </section>

        </div>

    {% else %}

        <div class="text-center" id="section-user">

            <h3>You should be signed in to see your profile</h3>

            <div class="d-flex flex-row justify-content-center my-3">
                <button type="button" class="btn btn-outline-dark btn-lg mx-2" data-action="login">
                    <a href="{% url 'login' %}">Log In</a>
                </button>
                <button type="button" class="btn btn-outline-dark btn-lg mx-2" data-action="register">
                    <a href="{% url 'register' %}">Register</a>
                </button>
            </div>

        </div>

    {% endif %}

{% endblock %}